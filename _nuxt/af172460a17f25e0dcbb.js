(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{174:function(t,e,i){},175:function(t,e,i){},176:function(t,e,i){},213:function(t,e,i){var n=i(5);t.exports=function(t,e){if(!n(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},298:function(t,e,i){t.exports=i.p+"img/4b8d525.svg"},299:function(t,e,i){"use strict";var n=i(174);i.n(n).a},300:function(t,e,i){"use strict";var n=i(301),r=i(213);t.exports=i(302)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return n.def(r(this,"Set"),t=0===t?0:t,t)}},n)},301:function(t,e,i){"use strict";var n=i(8).f,r=i(57),s=i(89),o=i(15),h=i(87),a=i(88),c=i(56),u=i(93),l=i(60),f=i(6),d=i(85).fastKey,v=i(213),p=f?"_s":"size",g=function(t,e){var i,n=d(e);if("F"!==n)return t._i[n];for(i=t._f;i;i=i.n)if(i.k==e)return i};t.exports={getConstructor:function(t,e,i,c){var u=t(function(t,n){h(t,u,e,"_i"),t._t=e,t._i=r(null),t._f=void 0,t._l=void 0,t[p]=0,null!=n&&a(n,i,t[c],t)});return s(u.prototype,{clear:function(){for(var t=v(this,e),i=t._i,n=t._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete i[n.i];t._f=t._l=void 0,t[p]=0},delete:function(t){var i=v(this,e),n=g(i,t);if(n){var r=n.n,s=n.p;delete i._i[n.i],n.r=!0,s&&(s.n=r),r&&(r.p=s),i._f==n&&(i._f=r),i._l==n&&(i._l=s),i[p]--}return!!n},forEach:function(t){v(this,e);for(var i,n=o(t,arguments.length>1?arguments[1]:void 0,3);i=i?i.n:this._f;)for(n(i.v,i.k,this);i&&i.r;)i=i.p},has:function(t){return!!g(v(this,e),t)}}),f&&n(u.prototype,"size",{get:function(){return v(this,e)[p]}}),u},def:function(t,e,i){var n,r,s=g(t,e);return s?s.v=i:(t._l=s={i:r=d(e,!0),k:e,v:i,p:n=t._l,n:void 0,r:!1},t._f||(t._f=s),n&&(n.n=s),t[p]++,"F"!==r&&(t._i[r]=s)),t},getEntry:g,setStrong:function(t,e,i){c(t,e,function(t,i){this._t=v(t,e),this._k=i,this._l=void 0},function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?u(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,u(1))},i?"entries":"values",!i,!0),l(e)}}},302:function(t,e,i){"use strict";var n=i(2),r=i(4),s=i(10),o=i(89),h=i(85),a=i(88),c=i(87),u=i(5),l=i(9),f=i(94),d=i(27),v=i(96);t.exports=function(t,e,i,p,g,y){var m=n[t],M=m,k=g?"set":"add",S=M&&M.prototype,_={},b=function(t){var e=S[t];s(S,t,"delete"==t?function(t){return!(y&&!u(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(y&&!u(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return y&&!u(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,i){return e.call(this,0===t?0:t,i),this})};if("function"==typeof M&&(y||S.forEach&&!l(function(){(new M).entries().next()}))){var w=new M,C=w[k](y?{}:-0,1)!=w,T=l(function(){w.has(1)}),x=f(function(t){new M(t)}),A=!y&&l(function(){for(var t=new M,e=5;e--;)t[k](e,e);return!t.has(-0)});x||((M=e(function(e,i){c(e,M,t);var n=v(new m,e,M);return null!=i&&a(i,g,n[k],n),n})).prototype=S,S.constructor=M),(T||A)&&(b("delete"),b("has"),g&&b("get")),(A||C)&&b(k),y&&S.clear&&delete S.clear}else M=p.getConstructor(e,t,g,k),o(M.prototype,i),h.NEED=!0;return d(M,t),_[t]=M,r(r.G+r.W+r.F*(M!=m),_),y||p.setStrong(M,t,g),M}},303:function(t,e,i){var n=i(304),r=i(305),s=i(306);t.exports=function(t){return n(t)||r(t)||s()}},304:function(t,e){t.exports=function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}},305:function(t,e){t.exports=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},306:function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},307:function(t,e,i){var n=i(4);n(n.P,"Array",{fill:i(308)}),i(40)("fill")},308:function(t,e,i){"use strict";var n=i(28),r=i(92),s=i(26);t.exports=function(t){for(var e=n(this),i=s(e.length),o=arguments.length,h=r(o>1?arguments[1]:void 0,i),a=o>2?arguments[2]:void 0,c=void 0===a?i:r(a,i);c>h;)e[h++]=t;return e}},309:function(t,e,i){"use strict";var n=i(4),r=i(97)(6),s="findIndex",o=!0;s in[]&&Array(1)[s](function(){o=!1}),n(n.P+n.F*o,"Array",{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),i(40)(s)},310:function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},311:function(t,e){function i(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.exports=function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}},312:function(t,e,i){"use strict";var n=i(175);i.n(n).a},313:function(t,e,i){"use strict";var n=i(176);i.n(n).a},393:function(t,e,i){"use strict";i.r(e);i(86),i(90),i(91);var n={props:{selectFinish:Function},data:function(){return{keyMap:["1","#1","b2","2","#2","b3","3","4","#4","b5","5","#5","b6","6","#6","b7","7"],state:{chordTone:["1","3","5"],type:3,keyBar1:0,keyBar2:38,keyBar3:54,keyBar4:0,keyBarShow1:!1,keyBarShow2:!1,keyBarShow3:!1,keyBarShow4:!1,loading:!1}}},methods:{isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},isNumber:function(t){return"[object Number]"===Object.prototype.toString.call(t)},isMobile:function(){return!!navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)},touchStart:function(t,e){var i="keyBar"+(t+1),n=this.isNumber(e)?e:e.touches[0].clientX;this.state["keyBarShow"+(t+1)]=!0,this.selectWidth=document.getElementById("key1").clientWidth,this.maxLeft=.9*this.selectWidth-20,this.minLeft=.1*this.selectWidth,this.startX=n,this.keyBarX=this.state[i]},touchMove:function(t,e){var i="keyBar"+(t+1),n=(this.isNumber(e)?e:e.touches[0].clientX)-this.startX,r=.8*(this.keyBarX+n);this.state[i]=r<this.minLeft?this.minLeft:r>this.maxLeft?this.maxLeft:r;var s=(this.state[i]-this.minLeft)/(this.maxLeft-this.minLeft+.01),o=this.keyMap[Math.floor(s*this.keyMap.length)];this.state.chordTone=this.state.chordTone.concat(),this.state.chordTone[t]=o},touchEnd:function(t){this.state["keyBarShow"+(t+1)]=!1,this.state.loading=!0,this.selectFinish(this.state.chordTone)},mouseDown:function(t,e){this.isMobile()||(this.isMouseDown=!0,this.touchStart(t,e.pageX))},mouseUp:function(t,e){this.isMobile()||(this.isMouseDown=!1,this.touchEnd(t))},mouseMove:function(t,e){!this.isMobile()&&this.isMouseDown&&this.touchMove(t,e.pageX)},mouseLeave:function(t,e){!this.isMobile()&&this.isMouseDown&&(this.isMouseDown=!1,this.touchEnd(t))},chordCountChange:function(t){this.state.chordTone=this.state.chordTone.slice(0,t),this.state.type=t,4===t&&this.state.chordTone.length<4&&(this.state.chordTone=this.state.chordTone.concat(["1"]),this.state.keyBar4=0)},hideLoading:function(){this.state.loading=!1}},mounted:function(){this.selectFinish(this.state.chordTone)}},r=(i(299),i(11)),s=Object(r.a)(n,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container-chordSelect"},[n("div",{staticClass:"key-select"},t._l(t.state.chordTone,function(e,i){return n("div",{key:"reactkey_"+i,staticClass:"key-num square",attrs:{id:"key"+(i+1)},on:{touchstart:function(e){t.touchStart(i,e)},touchmove:function(e){t.touchMove(i,e)},touchend:function(e){t.touchEnd(i)},mousedown:function(e){t.mouseDown(i,e)},mouseup:function(e){t.mouseUp(i,e)},mousemove:function(e){t.mouseMove(i,e)},mouseleave:function(e){t.mouseLeave(i,e)}}},[n("span",{staticClass:"noselect"},[t._v(t._s(e))]),t._v(" "),n("div",{class:"key-bar"+(t.state["keyBarShow"+(i+1)]?" keybar-show":""),style:{left:t.state["keyBar"+(i+1)]+"px"}})])})),t._v(" "),n("div",{staticClass:"select-notify noselect"},[t._v("左右拖动可改变和弦组成音")]),t._v(" "),n("div",{staticClass:"chord-count"},[n("div",{class:3===t.state.type?"noselect active":"noselect",on:{click:function(e){t.chordCountChange(3)}}},[t._v("三音和弦")]),t._v(" "),n("div",{class:4===t.state.type?"noselect active":"noselect",on:{click:function(e){t.chordCountChange(4)}}},[t._v("四音和弦")])]),t._v(" "),n("div",{class:"loading-box"+(t.state.loading?" show":"")},[n("img",{staticClass:"loading",attrs:{src:i(298),alt:""}})])])},[],!1,null,null,null);s.options.__file="chordSelect.vue";var o=s.exports,h=(i(25),i(55),i(300),i(303)),a=i.n(h),c=(i(307),i(58),i(59),i(309),i(61),i(38),i(310)),u=i.n(c),l=i(311),f=i.n(l);function d(t){return function(e){return Object.prototype.toString.call(t)==="[object ".concat(e,"]")}}var v=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1",i=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;u()(this,t),this.syllableMap=["do","re","mi","fa","sol","la","si"],this.keyMap=["1",["#1","b2"],"2",["#2","b3"],"3","4",["#4","b5"],"5",["#5","b6"],"6",["#6","b7"],"7"],this.intervalMap=["C",["#C","bD"],"D",["#D","bE"],"E","F",["#F","bG"],"G",["#G","bA"],"A",["#A","bB"],"B"],this.toneString=e,this.toneNormal=e.replace(/\./g,""),this.key=e.replace(/\.|b|#/g,""),this.syllableName=this.syllableMap[+this.key-1],this.flat=e.match("b")?"b":"",this.sharp=e.match("#")?"#":"";var r=e.split(this.key),s=r[0].toString().match(/\./g),o=r[1].toString().match(/\./g);this.octave=(o?o.length:0)-(s?s.length:0),this.position={string:i,fret:n}}return f()(t,[{key:"findKeyIndex",value:function(t){return this.keyMap.findIndex(function(e){return d(e)("Array")?e.includes(t):e===t})}},{key:"step",value:function(t){var e=this,i=this.flat+this.sharp+this.key,n=this.keyMap.length,r=this.findKeyIndex(i);if(r>-1){t=+t;var s=parseInt(r+t,0),o=this.octave;if(s>=n){var h=s-n;o+=Math.floor(h/n)+1,s=h%n}else if(s<0){var a=s;o+=Math.floor(a/n),s=a%n+n}var c=this.keyMap[s],u=new Array(Math.abs(o)).fill(".").join(""),l="";return d(c)("Array")?c.map(function(i){return new e.constructor((o<0?u:"")+i+(o>0?u:""),e.position.string,e.position.fret+t)}):(l=(o<0?u:"")+c+(o>0?u:""),new this.constructor(l,this.position.string,this.position.fret+t))}return null}}]),t}(),p=function(){function t(){u()(this,t),this.fretLength=15,this.initialTone=[new v("3.",1,0),new v("7",2,0),new v("5",3,0),new v("2",4,0),new v(".6",5,0),new v(".3",6,0)],this.toneMap=[];for(var e=1;e<=this.initialTone.length;e++){this.toneMap[e]=[];for(var i=0;i<=this.fretLength;i++)this.toneMap[e].push(this.initialTone[e-1].step(i))}}return f()(t,[{key:"findFret",value:function(t,e,i,n){t=t.replace(/\./g,"");var r=[];i=i||0,n=n?n+1:e.length;for(var s=i;s<n;s++){if(d(e[s])("Array"))e[s].map(function(t){return t.toneNormal}).includes(t)&&r.push(s);else e[s].toneString.replace(/\./g,"")===t&&r.push(s)}return r}},{key:"calc",value:function(t,e,i,n,r,s){for(var o=this.toneMap[t],h=!1,a=0;a<this.chordTone.length;a++)if(a!==e){var c=!1,u=this.chordTone[a],l=this.findFret(u,o,i,n);if(l.length>0){var f={string:t,fret:l[0],key:u};if(f.pre=r||null,s.push(f),c=!0,t<this.initialTone.length){var d=t+1;c=c&&this.calc(d,a,i,n,f,s)}else c=!0;c||s.pop()}else c=!1;h=h||c}return h}},{key:"integrityFilter",value:function(t){var e=this;return t.filter(function(t){return a()(new Set(t.map(function(t){return t.key}).filter(function(t){return null!=t}))).length===e.chordTone.length})}},{key:"fingerFilter",value:function(t){return t.filter(function(t){var e=Math.min.apply(null,t.map(function(t){return t.fret}).filter(function(t){return null!=t})),i=e>0?1:0;return t.forEach(function(t){null!=t.fret&&t.fret>e&&i++}),i<=4})}},{key:"rootToneFilter",value:function(t){var e=this,i=new Set;return t.forEach(function(t){for(var n=6,r=t.length-1;r>=0&&t[r].key!==e.rootTone;r--)t[r].fret=null,t[r].key=null,n--;n>=4&&i.add(JSON.stringify(t))}),a()(i).map(function(t){return JSON.parse(t)})}},{key:"filter",value:function(t){var e=this,i=t.filter(function(t){return t.string===e.initialTone.length}).map(function(t){for(var e=[{string:t.string,fret:t.fret,key:t.key}];t.pre;)t=t.pre,e.unshift({string:t.string,fret:t.fret,key:t.key});return e});return i.length>0?this.integrityFilter(this.fingerFilter(this.rootToneFilter(i))):[]}},{key:"chord",value:function(){var t,e=this;t=d(arguments[0])("Array")?arguments[0]:Array.prototype.slice.apply(arguments).map(function(t){var e=new v(t.toString());return e.flat+e.sharp+e.key}),this.chordTone=t,this.rootTone=t[0],this.chordResult=[];var i=[];t.forEach(function(t){for(var n=1;n<e.toneMap.length;n++)i=i.concat(e.findFret(t,e.toneMap[n]))}),(i=a()(new Set(i))).sort(function(t,e){return t-e});for(var n=0;n<i.length;n++){var r=i[n],s=r>0?r+4:r+5;if(s<=this.fretLength){var o,h=[];if(this.calc(1,null,r,s,null,h))(o=this.chordResult).push.apply(o,a()(this.filter(h)))}}return a()(new Set(this.chordResult.map(function(t){return JSON.stringify(t)}))).map(function(t){return JSON.parse(t)})}}]),t}(),g=function(){function t(e){u()(this,t),this.toneUtil=new v}return f()(t,[{key:"getToneSpace",value:function(t,e){var i=this.toneUtil.findKeyIndex(e)-this.toneUtil.findKeyIndex(t);return i<0?i+12:i}},{key:"isMajorThird",value:function(t,e){return 4===this.getToneSpace(t,e)}},{key:"isMinorThird",value:function(t,e){return 3===this.getToneSpace(t,e)}},{key:"isMajorMajorThird",value:function(t,e){return 5===this.getToneSpace(t,e)}},{key:"isMinorMinorThird",value:function(t,e){return 2===this.getToneSpace(t,e)}},{key:"isMajorChord",value:function(t){return this.isMajorThird(t[0],t[1])&&this.isMinorThird(t[1],t[2])}},{key:"isMinorChord",value:function(t){return this.isMinorThird(t[0],t[1])&&this.isMajorThird(t[1],t[2])}},{key:"isAugmentedChord",value:function(t){return this.isMajorThird(t[0],t[1])&&this.isMajorThird(t[1],t[2])}},{key:"isDiminishedChord",value:function(t){return this.isMinorThird(t[0],t[1])&&this.isMinorThird(t[1],t[2])}},{key:"isSus4",value:function(t){return this.isMajorMajorThird(t[0],t[1])&&this.isMinorMinorThird(t[1],t[2])}},{key:"isMajorMinorSeventhChord",value:function(t){return!(t.length<4)&&(this.isMajorChord(t)&&this.isMinorThird(t[2],t[3]))}},{key:"isMinorMajorSeventhChord",value:function(t){return!(t.length<4)&&(this.isMinorChord(t)&&this.isMajorThird(t[2],t[3]))}},{key:"isMajorMajorSeventhChord",value:function(t){return!(t.length<4)&&(this.isMajorChord(t)&&this.isMajorThird(t[2],t[3]))}},{key:"isMinorMinorSeventhChord",value:function(t){return!(t.length<4)&&(this.isMinorChord(t)&&this.isMinorThird(t[2],t[3]))}},{key:"isDiminishedSeventhChord",value:function(t){return!(t.length<4)&&(this.isDiminishedChord(t)&&this.isMinorThird(t[2],t[3]))}},{key:"isHalfDiminishedSeventhChord",value:function(t){return!(t.length<4)&&(this.isDiminishedChord(t)&&this.isMajorThird(t[2],t[3]))}},{key:"isHalfAugmentedSeventhChord",value:function(t){return!(t.length<4)&&(this.isAugmentedChord(t)&&this.isMinorMinorThird(t[2],t[3]))}},{key:"isAugmentedSeventhChord",value:function(t){return!(t.length<4)&&(this.isAugmentedChord(t)&&this.isMinorThird(t[2],t[3]))}},{key:"getKeyName",value:function(t){var e=this.toneUtil.intervalMap[this.toneUtil.findKeyIndex(t)];return d(e)("Array")&&(e=/b/.test(t)?e[1]:e[0]),e}},{key:"getChordName",value:function(t){var e=this,i=t[0],n=this.getKeyName(i),r="...",s=[],o=[{fn:this.isMajorChord,suffix:""},{fn:this.isMinorChord,suffix:"m"},{fn:this.isAugmentedChord,suffix:"aug"},{fn:this.isDiminishedChord,suffix:"dim"},{fn:this.isSus4,suffix:"sus4"}],h=[{fn:this.isMajorMinorSeventhChord,suffix:"7"},{fn:this.isMinorMajorSeventhChord,suffix:"mM7"},{fn:this.isMajorMajorSeventhChord,suffix:"maj7"},{fn:this.isMinorMinorSeventhChord,suffix:"m7"},{fn:this.isDiminishedSeventhChord,suffix:"dim7"},{fn:this.isHalfDiminishedSeventhChord,suffix:"m7-5"},{fn:this.isHalfAugmentedSeventhChord,suffix:"7#5"},{fn:this.isAugmentedSeventhChord,suffix:"aug7"}];return n+(r=3===t.length?(s=o.filter(function(i){return i.fn.bind(e,t)()})).length>0?s[0].suffix:r:(s=h.filter(function(i){return i.fn.bind(e,t)()})).length>0?s[0].suffix:r)}}]),t}(),y=function(){function t(){u()(this,t),this.SVG_NS="http://www.w3.org/2000/svg",this.XLINK_NS="http://www.w3.org/1999/xlink",this.ATTR_MAP={className:"class",svgHref:"href"},this.NS_MAP={svgHref:this.XLINK_NS},this.initChordSvg(),this.minFret=0}return f()(t,[{key:"createSVG",value:function(t,e){var i=document.createElementNS(this.SVG_NS,t);for(var n in e){var r=n in this.ATTR_MAP?this.ATTR_MAP[n]:n,s=e[n];n in this.NS_MAP?i.setAttributeNS(this.NS_MAP[n],r,s):i.setAttribute(r,s)}return i}},{key:"createUse",value:function(t,e,i){return this.createSVG("use",{svgHref:t,x:e,y:i})}},{key:"setForbidden",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6;t.appendChild(this.createUse("#forbidden",25+20*(6-e),30))}},{key:"setOpen",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6;t.appendChild(this.createUse("#blank_circle",25+20*(6-e),30))}},{key:"setFinger",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;+i>0&&+i<=5&&t.appendChild(this.createUse("#block_circle",25+20*(6-e),35+20*i))}},{key:"setBarre",value:function(t,e,i,n){i>0&&i<=5&&t.appendChild(this.createSVG("rect",{className:"chord-barre",width:20*e,x:15+20*(6-e),y:27+20*i,rx:8,ry:8}))}},{key:"setFretOffset",value:function(t,e,i,n){if(e>0){var r=this.createSVG("text",{className:"chord-barre-fret",x:n?1:8,y:40+20*e});r.innerHTML=i,t.appendChild(r)}}},{key:"setStringKey",value:function(t,e,i){var n=2===i.length?-4:0,r=this.createSVG("text",{className:"chord-string-key",x:21.5+20*(6-e)+n,y:160});r.innerHTML=i,t.appendChild(r)}},{key:"setChordName",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=/\.\.\./.test(e)?10:0,n=this.createSVG("text",{className:"chord-name",x:75-7*e.toString().length+i,y:20});n.innerHTML=e,t.appendChild(n)}},{key:"initChordSvg",value:function(){this.svg=this.createSVG("svg",{className:"chord-svg",viewBox:"0 0 150 150",preserveAspectRatio:"xMidYMin meet"}),this.chordRect=this.createSVG("rect",{className:"chord-rect",x:25,y:45,rx:5,ry:5}),this.chordGrid=this.createSVG("path",{className:"chord-grid",d:"M25 65 L125 65 M25 85 L125 85 M25 105 L125 105 M25 125 L125 125 M45 45 L45 145 M65 45 L65 145 M85 45 L85 145 M105 45 L105 145 M25 40 L125 40"}),this.defs=this.createSVG("defs"),this.g_forbidden=this.createSVG("g",{id:"forbidden"}),this.g_forbidden.appendChild(this.createSVG("path",{className:"chord-forbidden",d:"M-5 -5 L5 5 M-5 5 L5 -5"})),this.g_blank_circle=this.createSVG("g",{id:"blank_circle"}),this.g_blank_circle.appendChild(this.createSVG("circle",{className:"chord-blank-circle",cx:0,cy:0,r:6})),this.g_block_circle=this.createSVG("g",{id:"block_circle"}),this.g_block_circle.appendChild(this.createSVG("circle",{className:"chord-block-circle",cx:0,cy:0,r:8})),this.defs.appendChild(this.g_forbidden),this.defs.appendChild(this.g_blank_circle),this.defs.appendChild(this.g_block_circle),this.svg.appendChild(this.chordRect),this.svg.appendChild(this.chordGrid),this.svg.appendChild(this.defs)}},{key:"drawChord",value:function(t,e,i){var n=this,r=this.svg.cloneNode(!0),s=e.map(function(t){return t.fret}).filter(function(t){return null!=t}),o=Math.max.apply(null,s),h=Math.min.apply(null,s),a=o<=5?0:h,c=0,u=1,l=new g;e.forEach(function(t){null==t.fret?n.setForbidden(r,t.string):0===t.fret?n.setOpen(r,t.string):n.setFinger(r,t.string,a>0?t.fret-a+1:t.fret),t.fret===h&&(u=t.string>u?t.string:u,c++),null!=t.fret&&n.setStringKey(r,t.string,l.getKeyName(t.key))});var f=a>0?h-a+1:h;c>1&&this.setBarre(r,u,f,h),this.setFretOffset(r,f,h,6===u),this.setChordName(r,l.getChordName(t)),i?i.appendChild(r):document.body.appendChild(r)}}]),t}(),m={props:{hideLoading:Function},data:function(){return{info:"",infos:{hasAnswer:["你没看错，这是和弦","bingo","","你有音乐天赋","没想到被你发现了","我看你骨骼清奇，不如","和弦常有，一拖能拖出和弦的人不常有","是胜利的味道","试的久了，就会找到规律","贝多芬承认这是和弦","嗯，这是和弦"],hasSvg:["叫不出名字，但指法还是有的","无名氏小心翼翼作图如下","将就着看看指法吧","在下尽力了","【省略号脸】","这只能勉强画个图( ˙-˙ )","只能帮你到这儿了","哇塞这些音居然有指法","不知道该怎么称呼它(°ー°〃)","有图，但没真相","在下才疏学浅，叫不出它的名字","实为古怪，却又按得出来"],noAnswer:["你这和弦让人费解","组成音太诡异，透露着没图没真相的气息","kidding?","你来到了和弦的荒原","是在下输了","你可能输入了一个假和弦","请换个口味","在下不懂，空白如斯","不存在的","我知道这大概率是不对的","勇士请再试试别的","音之间靠的太远太近都成不了和弦，这大概是哲学","是离愁，别是一番滋味在心头","这和弦假得指法都画不出","和弦闹不和，分手了，请撮合下一组","认真一点，你确实这是和弦？","全都是泡沫","这只是一霎花火","......","这啥 (╯‵□′)╯︵┻━┻","无解 (´-ι_-｀)","还是无解 _(:з」∠)_","真的勇士，敢于再试一次","这是正儿八经的推导，但你的题目有问题","要知道正确的和弦在排列组合里毕竟是少数","要不再试试间隔较均匀的音？","和弦懵逼","线性懵逼","贝塞尔曲线懵逼","递归懵逼","这不是文字游戏，如果你信的话","贝多芬不承认这是和弦","默默装作不知道发生了什么"]}}},methods:{randomOne:function(t){return t[Math.floor(Math.random()*t.length)]},draw:function(t){var e=this,i=new p,n=(new g).getChordName(t),r=i.chord(t),s=new y;document.getElementById("chord_draw").innerHTML="",setTimeout(function(){e.hideLoading()},200),setTimeout(function(){0===r.length?e.info=e.randomOne(e.infos.noAnswer):/\.\.\./.test(n)?e.info=e.randomOne(e.infos.hasSvg):e.info=e.randomOne(e.infos.hasAnswer),r.forEach(function(e){s.drawChord(t,e,document.getElementById("chord_draw"))})},500)}}},M=(i(312),Object(r.a)(m,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container-chordDraw"},[e("div",{class:"draw-info"+(this.info?" show":"")},[this._v("\n\t\t\t"+this._s(this.info)+"\n\t\t")]),this._v(" "),e("div",{attrs:{id:"chord_draw"}})])},[],!1,null,null,null));M.options.__file="chordDraw.vue";var k={head:function(){return{title:"Guitar"}},components:{ChordSelect:o,ChordDraw:M.exports},methods:{hideLoading:function(){this.$refs.chordSelect.hideLoading()},selectFinish:function(t){this.$refs.chordDraw.draw(t)}}},S=(i(313),Object(r.a)(k,function(){var t=this.$createElement,e=this._self._c||t;return e("v-container",{staticClass:"chord",attrs:{fluid:""}},[e("ChordSelect",{ref:"chordSelect",attrs:{selectFinish:this.selectFinish}}),this._v(" "),e("ChordDraw",{ref:"chordDraw",attrs:{hideLoading:this.hideLoading}})],1)},[],!1,null,null,null));S.options.__file="index.vue";e.default=S.exports}}]);